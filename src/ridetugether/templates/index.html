<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns="http://www.w3.org/1999/xhtml">
    <head>
		<link rel="icon" type="image/png" href="static/favicon.ico">
		<link rel="stylesheet" href="static/tablesorter.css" type="text/css" />
		<link href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" rel="stylesheet"/>
        <link href="static/style.css" media="screen" rel="stylesheet" type="text/css"/>
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
        <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
        <script src="static/jquery.popupoverlay.js"></script>
		<script src="static/popup.js"></script>
        <script src="static/functions.js" type="text/javascript"></script>
        <script src="static/json-template.js" type="text/javascript"></script>
		<script src="static/tsort.js"></script>
        <script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript"></script>
        <script src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js" type="text/javascript"></script>
        <script src="static/infobox.js"></script>
		<script type="text/javascript">
            $(document).ready(function () {
                $("#toggle_exhibit_key").click(function () {
                    var position = $("#toggle_exhibit_key").position();
                    if ($("#toggle_exhibit_key").text() == '‹') {
                        $("#exhibit_key").animate({
                            left: -405
                        }, 1000);
                        $(this).animate({
                            left: 0
                        }, 1000);
                        $(this).text("›");
                        return false;
                    } else if ($("#toggle_exhibit_key").text() == "›") {
                        $("#exhibit_key").animate({
                            left: 0
                        }, 1000);
                        $(this).animate({
                            left: 405
                        }, 1000);
                        $(this).text("‹");
                        return false;
                    }
                });
            });
        </script>
        <script>
            $(document).ready(function () {            
                $('#helpTooltip').popup({
                    type: 'tooltip',
                    autozindex: true,
                    horizontal: 'center',
                    vertical: 'top'
                });
            
            });
        </script>
        <script>
			$(document).ready(function() {  
			   $("#helpOverlaybg").data("state",0);  
			   $("#helpLink").click(function(){  
					centerPopup();  
					loadPopup();     
			   });  
			   $("#helpOverlayClose").click(function(){  
					disablePopup();  
			   });  
			   $(document).keypress(function(e){  
					if(e.keyCode==27) {  
						disablePopup();   
					}  
				});  
			});  
			  
			//Recenter the popup on resize - Thanks @Dan Harvey [http://www.danharvey.com.au/]  
			$(window).resize(function() {  
			centerPopup();  
			});  
		</script>
		<script type="text/javascript">
			$(document).ready(function() {
				
				$('table.tableSorter').tableSort( {
					sortBy: ['text', 'numeric', 'text', 'text', 'text', 'text'],
					animation: 'fade',
					speed: 250,
					delay: 30
				} );
			});
		</script>
        <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
        <title>Ride TUgether</title>
    </head>
    <body onload="initialize('{{message}}')" style="font-family: Arial;border: 0 none;">
        <div id="titleblock">
            <h1 id="collegeName"><a href ='/'>{{college.name}} Rideshare</a></h1>
            <div id="navbar">
                <ul>
                    <li>
                        Welcome, {{nick}}
                    </li>
                    <li>
                        <a href="{{logout}}" id="logout">Sign Out</a>
                    </li>
                    <li>
                        <a href="/home" id="home">Your Rides</a>
                    </li>
                    <li>
                        <a href="#" id="helpLink">Help</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div style="clear: both;"></div>
    <div class="well" id="helpTooltip">
        <a class="helpTooltipClose" href="#" style="float:right;padding:0 0.4em;">×</a>
        <p>Click anywhere on the map to create a destination or starting point.
            You may want to zoom in first. You can add yourself to a ride by
            clicking on one of the red or green pushpins on the map.
            <br><br>
            Enter an address using the pull-out controls on the
            left.</p>
    </div>
    <div id="helpOverlay" style="display:none;margin:1em;">
        <a id="helpOverlayClose" href="#" style="float:right;padding:0 0.4em;">×</a>
        <h2>Creating a Ride</h2>
		<p>To create a trip just click on the map somewhere.  A popup box will
		appear and ask you if you want to make the trip to or from Taylor.  It
		may be useful to use the zoom controls on the map to zoom in to your
		destination or starting point.  This will make it easier to be precise
		about where you are going to or coming from.  You may also create a
		ride to a city by simply typing in an address, or a city, state in the
		text box above the map.  This will place a pushpin on the map in the
		center of the city or at the exact address you provide.
		</p>
        <p>Once you have selected a starting point or destination there is
		some additional information to provide about the trip.  You need to
		provide a contact number.  Preferably a cell phone number that
		potential riders can contact you via text or voice, to get any
		detailed starting or ending time information.  You also should set how
		many riders you can take.  Finally make sure you set the date and
		approximate time of departure.  We haven't made this any more specific
		that early/late morning or early/late afternoon knowing that often
		departure times are set exactly until closer to the time of the
		trip.</p>
		<h2>Joining an Existing Ride</h2>
		<p>To join an existing ride simply click on a pushpin on the map.  A
		  popup will appear that gives you information about the date, time,
		  and driver for the trip.  Note that red pushpins indicate trips that
		  start at Taylor and go to the pin, whereas green pushpins indicate a
		  trip that starts at the pushpin and goes back to Taylor.
		</p>
		<h2>Finding out about my Trips</h2>
		<p>To see the complete list of trips that you have created either as
		  a driver or as a rider click on the 'Your Rides' tab on the
		homepage.  You can also delete rides and get the phone numbers for
		your riders or driver on this page.</p> 
		<h2>Finding out about my driver</h2>
		<p>We are working on implementing a profile page so that you can check
		out your driver and/or riders.  This is not done yet, but we'll make
		it available as soon as we can.</p>
    </div>
	<div id="helpOverlaybg">
	</div>
    <div id="map_canvas"></div>
    <ul id="exhibit_key">
        <li id="map_link1">
            <a>
                <td id="filterside">
                    <form action="#" onsubmit="showAddress(this.address.value); return false">
                        Enter an address or city, state to create a ride:
                        <input name="address" size="52" type="text" value=""/>
                        <input type="submit" class='submitButton' value="Go!"/>
                    </form>
                </a>
            </li>
            <a class="box lightbkg" href="#" id="toggle_exhibit_key">‹</a>
        </ul>
        <div id="rtablehead">
            <br/>
            <h2>All Available Rides</h2>
            <p>Click Destination to join</p>
        </div>
        <div id="ridelist">
            <table id="rideTable" Class="tableSorter">
                    <tr>
                        <th>Driver's Name</th>
                        <th>Open Seats</th>
                        <th>Starting Point</th>
                        <th>Destination</th>
                        <th>Time of Departure</th>
                        <th>Comments</th>
                    </tr>
            </table>
        </div>
        <div id="mainfooter">
            <p>Developed in collaboration by Taylor College and Taylor University
            Software Studio</p>
        </div>
    </body>
</html>